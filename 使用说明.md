# 图表视图功能使用说明

## 目录

- [简介](#简介)
- [快速开始](#快速开始)
- [详细步骤](#详细步骤)
- [功能说明](#功能说明)
- [使用技巧](#使用技巧)
- [常见问题](#常见问题)

---

## 简介

图表视图是 Focalboard 中新增的数据可视化功能，允许您以直观的图表形式查看和分析任务数据。支持三种图表类型：柱状图、折线图和饼图。

### 主要特性

- 📊 **三种图表类型**：柱状图、折线图、饼图
- 📈 **数据分组**：按属性分组显示任务统计
- 🎨 **交互式图表**：鼠标悬停查看详细数据
- 🔄 **实时更新**：数据变化时图表自动更新
- 🌐 **多语言支持**：支持中英文界面

---

## 快速开始

### 前提条件

1. 已启动 Focalboard 服务器（访问 http://localhost:8000）
2. 已登录账户
3. 已创建或打开一个看板
4. 看板中有任务卡片（Card）

### 快速创建图表

1. 点击视图菜单中的 **"添加视图"** → 选择 **"图表"**
2. 系统自动创建图表视图
3. 点击视图头部的 **"分组"** 按钮，选择分组属性
4. 图表自动显示分组统计

---

## 详细步骤

### 步骤 1：访问 Focalboard

1. 打开浏览器
2. 访问：`http://localhost:8000`
3. 登录您的账户（如果没有账户，先注册）

### 步骤 2：选择或创建看板

1. 在左侧边栏选择一个现有的看板
2. 或者点击 **"+"** 按钮创建新看板
3. 确保看板中有一些任务卡片

**提示**：如果看板是空的，先创建几个任务卡片，这样图表才有数据可显示。

### 步骤 3：创建图表视图

1. **找到视图菜单**
   - 位置：看板顶部左侧，当前视图名称旁边
   - 图标：通常是一个下拉菜单图标

2. **点击"添加视图"**
   - 在视图菜单中找到 **"添加视图"**（Add view）选项
   - 点击展开子菜单

3. **选择图表视图**
   - 在子菜单中找到 **"图表"**（Chart）选项
   - 图标：📊 图表图标
   - 点击选择

4. **视图创建完成**
   - 系统自动创建新的图表视图
   - 自动切换到新创建的图表视图
   - 视图名称默认为 "图表视图"（Chart view）

### 步骤 4：设置数据分组（推荐）

图表视图支持按属性分组显示数据，这是查看统计信息的关键步骤。

1. **找到分组按钮**
   - 位置：视图头部工具栏
   - 按钮文字：**"分组"**（Group by）

2. **选择分组属性**
   - 点击"分组"按钮，弹出属性选择菜单
   - 选择一个属性，例如：
     - **状态**（Status）- 按任务状态分组
     - **优先级**（Priority）- 按优先级分组
     - **负责人**（Assignee）- 按负责人分组
     - **标签**（Tags）- 按标签分组
     - 其他选择类型（Select）或多人选择类型（MultiSelect）属性

3. **查看分组结果**
   - 图表自动更新，显示按所选属性分组的任务数量
   - 每个分组显示为一个数据点

**注意**：
- 只有选择类型（Select）和多人选择类型（MultiSelect）的属性可以用于分组
- 如果看板中没有选择类型属性，图表会显示总任务数

### 步骤 5：切换图表类型

图表视图支持三种图表类型，您可以根据需要切换。

1. **找到图表类型选择器**
   - 位置：图表视图顶部，图表标题右侧
   - 显示：三个按钮（柱状图、折线图、饼图）

2. **切换图表类型**
   - **柱状图**（Bar Chart）：适合比较不同组的数据
   - **折线图**（Line Chart）：适合显示数据趋势
   - **饼图**（Pie Chart）：适合显示各部分占比

3. **查看效果**
   - 点击按钮后，图表立即切换类型
   - 数据保持不变，只是展示方式改变

### 步骤 6：查看图表数据

1. **鼠标悬停**
   - 将鼠标悬停在图表的数据点上
   - 显示工具提示（Tooltip），包含：
     - 分组名称
     - 任务数量
     - 百分比（饼图）

2. **查看图例**
   - 图表下方或侧边显示图例
   - 说明各颜色代表的含义

3. **理解图表**
   - **X 轴**：显示分组名称
   - **Y 轴**：显示任务数量（柱状图和折线图）
   - **颜色**：不同颜色代表不同的分组

---

## 功能说明

### 图表类型详解

#### 1. 柱状图（Bar Chart）

- **适用场景**：比较不同组的数据大小
- **特点**：直观显示各组任务数量的差异
- **示例**：比较不同状态下的任务数量

#### 2. 折线图（Line Chart）

- **适用场景**：显示数据趋势或变化
- **特点**：用线条连接数据点，显示连续性
- **示例**：查看任务数量随时间的变化趋势

#### 3. 饼图（Pie Chart）

- **适用场景**：显示各部分占总体的比例
- **特点**：直观显示占比关系
- **示例**：查看各状态任务占总任务的比例

### 数据分组逻辑

图表视图的数据分组遵循以下优先级：

1. **手动设置的分组属性**
   - 如果设置了分组属性，按该属性分组显示

2. **自动选择属性**
   - 如果没有设置分组，自动选择看板中第一个选择类型属性

3. **总任务数**
   - 如果看板中没有任何选择类型属性，显示总任务数

### 实时更新

- 当任务数据发生变化时（添加、删除、修改属性），图表会自动更新
- 无需手动刷新页面
- 图表会实时反映最新的数据状态

---

## 使用技巧

### 技巧 1：创建多个图表视图

- 可以为同一个看板创建多个图表视图
- 每个视图可以设置不同的分组方式
- 例如：
  - 图表视图 1：按状态分组
  - 图表视图 2：按优先级分组
  - 图表视图 3：按负责人分组

### 技巧 2：结合筛选功能

- 在视图头部使用筛选功能，只显示符合条件的任务
- 图表会只统计筛选后的任务
- 例如：筛选"高优先级"任务，然后查看按状态分组的图表

### 技巧 3：重命名视图

- 双击视图名称可以重命名
- 使用有意义的名称，如"任务状态统计"、"优先级分布"等
- 方便快速识别不同图表视图的用途

### 技巧 4：导出数据

- 虽然图表视图本身不支持导出，但可以：
  - 切换到表格视图查看详细数据
  - 使用表格视图的导出功能导出 CSV

### 技巧 5：最佳实践

1. **确保有足够的数据**
   - 至少需要 2-3 个任务才能看到有意义的分组

2. **选择合适的属性**
   - 选择有多个选项的属性（如状态、优先级）
   - 避免选择只有 1-2 个选项的属性

3. **定期更新**
   - 随着任务状态变化，定期查看图表了解项目进展

---

## 常见问题

### Q1: 为什么图表显示"暂无数据可显示"？

**可能原因**：
- 看板中没有任务卡片
- 所有任务都被筛选掉了
- 分组属性没有匹配的任务

**解决方法**：
- 创建一些任务卡片
- 检查筛选条件
- 尝试选择其他分组属性

### Q2: 为什么不能选择某个属性进行分组？

**原因**：
- 只有选择类型（Select）和多人选择类型（MultiSelect）的属性可以用于分组
- 文本、数字、日期等类型的属性不能用于分组

**解决方法**：
- 在看板设置中创建选择类型属性
- 或者使用现有的选择类型属性

### Q3: 图表显示的数据不准确？

**可能原因**：
- 任务属性值设置不正确
- 筛选条件影响了数据统计

**解决方法**：
- 检查任务的属性值是否正确设置
- 清除筛选条件，查看完整数据
- 切换到表格视图验证数据

### Q4: 如何删除图表视图？

**步骤**：
1. 切换到其他视图（不能删除当前视图）
2. 在视图菜单中找到要删除的图表视图
3. 点击视图名称右侧的选项菜单
4. 选择"删除视图"

### Q5: 图表可以导出为图片吗？

**当前功能**：
- 图表视图暂不支持直接导出为图片

**替代方案**：
- 使用浏览器截图功能
- 切换到表格视图导出 CSV 数据

### Q6: 可以自定义图表颜色吗？

**当前功能**：
- 图表颜色由系统自动分配
- 暂不支持自定义颜色

**未来计划**：
- 此功能可能在后续版本中添加

### Q7: 图表支持多少个分组？

**限制**：
- 理论上没有硬性限制
- 但建议分组数量在 10 个以内，以保证图表可读性
- 如果分组过多，建议使用筛选功能缩小范围

---

## 示例场景

### 场景 1：项目进度跟踪

**目标**：查看项目中各状态的任务分布

**步骤**：
1. 创建图表视图
2. 设置分组为"状态"（Status）
3. 查看柱状图，了解：
   - 待办任务数量
   - 进行中任务数量
   - 已完成任务数量

### 场景 2：团队工作量分析

**目标**：查看每个团队成员的任务分配情况

**步骤**：
1. 创建图表视图
2. 设置分组为"负责人"（Assignee）
3. 查看饼图，了解：
   - 每个成员的任务占比
   - 工作量是否均衡

### 场景 3：优先级分布

**目标**：查看不同优先级的任务分布

**步骤**：
1. 创建图表视图
2. 设置分组为"优先级"（Priority）
3. 查看折线图或柱状图，了解：
   - 高优先级任务数量
   - 中优先级任务数量
   - 低优先级任务数量

---

## 总结

图表视图功能为 Focalboard 提供了强大的数据可视化能力，帮助您：

- 📊 直观了解任务分布情况
- 📈 快速识别项目状态
- 🎯 做出数据驱动的决策
- 📋 向团队展示项目进展

通过合理使用图表视图，您可以更好地管理和分析任务数据，提高工作效率。

---

**文档版本**：1.0  
**最后更新**：2024年11月  
**适用版本**：Focalboard 8.0.0+

